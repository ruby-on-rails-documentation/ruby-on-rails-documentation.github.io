<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Routing |  Ruby on Rails Documentattion </title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="RoR Documentation for Beginners">
    
    <link rel="preload" href="/assets/css/0.styles.d6ad21ed.css" as="style"><link rel="preload" href="/assets/js/app.7adc5413.js" as="script"><link rel="preload" href="/assets/js/2.72a95a92.js" as="script"><link rel="preload" href="/assets/js/41.b554a771.js" as="script"><link rel="prefetch" href="/assets/js/10.a520d8be.js"><link rel="prefetch" href="/assets/js/11.f290d03c.js"><link rel="prefetch" href="/assets/js/12.52c96c43.js"><link rel="prefetch" href="/assets/js/13.2df3af10.js"><link rel="prefetch" href="/assets/js/14.840b181d.js"><link rel="prefetch" href="/assets/js/15.71342207.js"><link rel="prefetch" href="/assets/js/16.9d4ff7c3.js"><link rel="prefetch" href="/assets/js/17.842c0f28.js"><link rel="prefetch" href="/assets/js/18.93bc7927.js"><link rel="prefetch" href="/assets/js/19.5935f0d0.js"><link rel="prefetch" href="/assets/js/20.cdf58d7d.js"><link rel="prefetch" href="/assets/js/21.3166d2bf.js"><link rel="prefetch" href="/assets/js/22.b1a0c7ae.js"><link rel="prefetch" href="/assets/js/23.df366c28.js"><link rel="prefetch" href="/assets/js/24.fc6d5a86.js"><link rel="prefetch" href="/assets/js/25.2115eb5e.js"><link rel="prefetch" href="/assets/js/26.a5569d65.js"><link rel="prefetch" href="/assets/js/27.214f9614.js"><link rel="prefetch" href="/assets/js/28.6263065f.js"><link rel="prefetch" href="/assets/js/29.0f98370e.js"><link rel="prefetch" href="/assets/js/3.447679a1.js"><link rel="prefetch" href="/assets/js/30.1182db89.js"><link rel="prefetch" href="/assets/js/31.38016aaf.js"><link rel="prefetch" href="/assets/js/32.626ffe2b.js"><link rel="prefetch" href="/assets/js/33.039db41a.js"><link rel="prefetch" href="/assets/js/34.76b65e88.js"><link rel="prefetch" href="/assets/js/35.1f504bd2.js"><link rel="prefetch" href="/assets/js/36.2089506c.js"><link rel="prefetch" href="/assets/js/37.54d694f8.js"><link rel="prefetch" href="/assets/js/38.8a179bd0.js"><link rel="prefetch" href="/assets/js/39.3159a702.js"><link rel="prefetch" href="/assets/js/4.fb941f04.js"><link rel="prefetch" href="/assets/js/40.3697d274.js"><link rel="prefetch" href="/assets/js/42.45c82fe7.js"><link rel="prefetch" href="/assets/js/43.b54c5bed.js"><link rel="prefetch" href="/assets/js/44.fbcc36d7.js"><link rel="prefetch" href="/assets/js/5.384b96a2.js"><link rel="prefetch" href="/assets/js/6.d92e70ec.js"><link rel="prefetch" href="/assets/js/7.189f016f.js"><link rel="prefetch" href="/assets/js/8.f4a80106.js"><link rel="prefetch" href="/assets/js/9.1176b470.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d6ad21ed.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name"> Ruby on Rails Documentattion </span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Ruby on rails</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Getting Started</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Architecture Concepts</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>The Basic</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/the_basic/" aria-current="page" class="sidebar-link">The Basic</a></li><li><a href="/the_basic/Routing.html" aria-current="page" class="active sidebar-link">Routing</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/the_basic/CSRF Protection.html" class="sidebar-link">CSRF Protection</a></li><li><a href="/the_basic/Controller.html" class="sidebar-link">Controller</a></li><li><a href="/the_basic/Request.html" class="sidebar-link">Request</a></li><li><a href="/the_basic/Response.html" class="sidebar-link">Response</a></li><li><a href="/the_basic/ERB Template.html" class="sidebar-link">ERB Template</a></li><li><a href="/the_basic/Asset Bundling Webpacker.html" class="sidebar-link">Asset Bundling (Webpacker)</a></li><li><a href="/the_basic/URL Generation.html" class="sidebar-link">URL Generation</a></li><li><a href="/the_basic/Sessions.html" class="sidebar-link">Sessions</a></li><li><a href="/the_basic/Validations.html" class="sidebar-link">Validations</a></li><li><a href="/the_basic/Logging.html" class="sidebar-link">Logging</a></li><li><a href="/the_basic/Error Handling.html" class="sidebar-link">Error Handling</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Database</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Digging Deeper</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Security</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Testing</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Packages</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="routing"><a href="#routing" class="header-anchor">#</a> Routing</h1> <h3 id="basic-routing"><a href="#basic-routing" class="header-anchor">#</a> Basic Routing</h3> <p>The most basic Rails routes accept a URI and Controller method, providing a very simple and expressive method of defining routes and behavior without complicated routing configuration files:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>get <span class="token string-literal"><span class="token string">'/photos'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">'photos#index'</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>the request is dispatched to the photos controller's index action
.</p> <ul><li><p>The Default Route Files</p> <p>All Rails routes are defined in your route files, which are located in the config
directory.</p></li> <li><p>Available Route Methods</p> <p>Rails supports four different routes methods in application</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>get <span class="token string-literal"><span class="token string">'uri'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">'controller#method'</span></span>
post <span class="token string-literal"><span class="token string">'uri'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">'controller#method'</span></span>
patch<span class="token operator">/</span>put <span class="token string-literal"><span class="token string">'uri'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">'controller#method'</span></span>
delete <span class="token string-literal"><span class="token string">'uri'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">'controller#method'</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>CSRF Protection</p> <p>Remember, any HTML forms pointing to <strong><code>POST</code></strong>, <strong><code>PUT</code></strong>, <strong><code>PATCH</code></strong>, or <strong><code>DELETE</code></strong> routes that are defined in the <strong><code>web</code></strong> routes file should include a CSRF token field. Otherwise, the request will be rejected.</p> <p>As a Rails developer, you basically get CSRF protection for free. It starts with this single line in <strong>application_controller.rb</strong>, which enables CSRF protection:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>protect_from_forgery with<span class="token operator">:</span> <span class="token symbol">:exception</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Next, there's this single line in <strong>application.html.erb</strong>:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code><span class="token operator">&lt;</span><span class="token operator">%=</span> csrf_meta_tags <span class="token operator">%</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>Redirect Routes</p> <p>You can redirect any path to another path by using the <code>[redirect](https://api.rubyonrails.org/v7.0.4/classes/ActionDispatch/Routing/Redirection.html#method-i-redirect)</code> helper in your router:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>get <span class="token string-literal"><span class="token string">'/stories'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> redirect<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'/articles'</span></span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>You can also reuse dynamic segments from the match in the path to redirect to:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>get <span class="token string-literal"><span class="token string">'/stories/:name'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> redirect<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'/articles/%{name}'</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>You can also provide a block to <code>redirect</code>, which receives the symbolized path parameters and the request object:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>get <span class="token string-literal"><span class="token string">'/stories/:name'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> redirect <span class="token punctuation">{</span> <span class="token operator">|</span>path_params<span class="token punctuation">,</span> req<span class="token operator">|</span> <span class="token string-literal"><span class="token string">&quot;/articles/</span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">path_params<span class="token punctuation">[</span><span class="token symbol">:name</span><span class="token punctuation">]</span><span class="token punctuation">.</span>pluralize</span><span class="token delimiter punctuation">}</span></span><span class="token string">&quot;</span></span> <span class="token punctuation">}</span>
get <span class="token string-literal"><span class="token string">'/stories'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> redirect <span class="token punctuation">{</span> <span class="token operator">|</span>path_params<span class="token punctuation">,</span> req<span class="token operator">|</span> <span class="token string-literal"><span class="token string">&quot;/articles/</span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">req<span class="token punctuation">.</span>subdomain</span><span class="token delimiter punctuation">}</span></span><span class="token string">&quot;</span></span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Please note that default redirection is a 301 &quot;Moved Permanently&quot; redirect. Keep in mind that some web browsers or proxy servers will cache this type of redirect, making the old page inaccessible. You can use the <code>:status</code>option to change the response status:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>get <span class="token string-literal"><span class="token string">'/stories/:name'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> redirect<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'/articles/%{name}'</span></span><span class="token punctuation">,</span> <span class="token symbol">status</span><span class="token operator">:</span> <span class="token number">302</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>The Route List</p> <p>The routes Artisan command can easily provide an overview of all of the routes that are defined by your application:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>bin<span class="token operator">/</span>rails routes
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>You can also use the <code>--expanded</code> option to turn on the expanded table formatting mode.</p> <p>You can search through your routes with the grep option: -g. This outputs any routes that partially match the URL helper method name, the HTTP verb, or the URL path.</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>bin<span class="token operator">/</span>rails routes <span class="token operator">-</span>g new_comment
bin<span class="token operator">/</span>rails routes <span class="token operator">-</span>g <span class="token constant">POST</span>
bin<span class="token operator">/</span>rails routes <span class="token operator">-</span>g admin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>If you only want to see the routes that map to a specific controller, there's the -c option.</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>bin<span class="token operator">/</span>rails routes <span class="token operator">-</span>c users
bin<span class="token operator">/</span>rails routes <span class="token operator">-</span>c admin<span class="token operator">/</span>users
bin<span class="token operator">/</span>rails routes <span class="token operator">-</span>c Comments
bin<span class="token operator">/</span>rails routes <span class="token operator">-</span>c Articles<span class="token double-colon punctuation">::</span>CommentsController
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>Route Globbling and Wildcard Segments</p> <p>Route globbing is a way to specify that a particular parameter should be matched to all the remaining parts of a route. For example:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>get <span class="token string-literal"><span class="token string">'photos/*other'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">'photos#unknown'</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This route would match <code>photos/12</code>or <code>/photos/long/path/to/12</code>, setting <code>params[:other]</code>
to <code>&quot;12&quot;</code>or <code>&quot;long/path/to/12&quot;</code>. The segments prefixed with a star are called &quot;wildcard segments&quot;.</p></li> <li><p>Using root</p> <p>You can specify what Rails should route <code>'/'</code> to with the <code>[root](https://api.rubyonrails.org/v7.0.4/classes/ActionDispatch/Routing/Mapper/Resources.html#method-i-root)</code> method:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>root to<span class="token operator">:</span> <span class="token string-literal"><span class="token string">'pages#main'</span></span>
root <span class="token string-literal"><span class="token string">'pages#main'</span></span> <span class="token comment"># shortcut for the above</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>You should put the <code>root</code>route at the top of the file, because it is the most popular route and should be matched first.</p></li></ul> <h3 id="routes-parameters"><a href="#routes-parameters" class="header-anchor">#</a> Routes Parameters</h3> <ul><li><p>Required Parameters</p> <p>Sometimes you will need to capture segments of the URI within your route. For example, you may need to capture a user's ID from the URL. You may do so by defining route parameters:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>get <span class="token string-literal"><span class="token string">'users/:id'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">'users#display'</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>If an incoming request of <code>/photos/1</code>is processed by this route (because it hasn't matched any previous route in the file), then the result will be to invoke the <code>display</code>action of the <code>PhotosController</code>, and to make the final parameter <code>&quot;1&quot;</code>available as <code>params[:id]</code>
. This route will also route the incoming request of <code>/photos</code>to <code>PhotosController#display</code>, since <code>:</code>is an optional parameter, denoted by parentheses.</p> <p>You can set up as many dynamic segments within a regular route as you like. Any segment will be available to the action as part of <code>params</code>.</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>get <span class="token string-literal"><span class="token string">'photos/:id/:user_id'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">'photos#show'</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>The Query String</p> <p>The <code>params</code> will also include any parameters from the query string. For example, with this route:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>get <span class="token string-literal"><span class="token string">'photos/:id'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">'photos#show'</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>An incoming path of <code>/photos/1?user_id=2</code>will be dispatched to the <code>show</code> action of the <code>Photos</code>controller. <code>params</code>will be <code>{ controller: 'photos', action: 'show', id: '1', user_id: '2' }</code>
.</p></li> <li><p>Defining Defaults</p> <p>You can define defaults in a route by supplying a hash for the <code>:defaults</code>option. This even applies to parameters that you do not specify as dynamic segments. For example:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>get <span class="token string-literal"><span class="token string">'photos/:id'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">'photos#show'</span></span><span class="token punctuation">,</span> <span class="token symbol">defaults</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token symbol">format</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">'jpg'</span></span> <span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>You can also use a <code>[defaults](https://api.rubyonrails.org/v7.0.4/classes/ActionDispatch/Routing/Mapper/Scoping.html#method-i-defaults)</code> block to define the defaults for multiple items:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>defaults format<span class="token operator">:</span> <span class="token symbol">:json</span> <span class="token keyword">do</span>
  resources <span class="token symbol">:photos</span>
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>Regular Expression Constraints</p> <p>You can use the <code>:constraints</code>option to enforce a format for a dynamic segment:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>get <span class="token string-literal"><span class="token string">'photos/:id'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">'photos#show'</span></span><span class="token punctuation">,</span> <span class="token symbol">constraints</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token symbol">id</span><span class="token operator">:</span> <span class="token regex-literal"><span class="token regex">/[A-Z]\d{5}/</span></span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p><strong>Named Routes</strong></p> <p>You can specify a name for any route using the <code>:as</code> option:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>get <span class="token string-literal"><span class="token string">'exit'</span></span><span class="token punctuation">,</span> <span class="token symbol">to</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">'sessions#destroy'</span></span><span class="token punctuation">,</span> <span class="token symbol">as</span><span class="token operator">:</span> <span class="token symbol">:logout</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This will create <code>logout_path</code> and <code>logout_url</code> as named route helpers in your application. Calling <code>logout_path</code> will return <code>/exit</code></p></li></ul> <h3 id="resource-routing"><a href="#resource-routing" class="header-anchor">#</a> Resource Routing</h3> <p>Resource routing allows you to quickly declare all of the common routes for a given resourceful controller. A single call to <code>[resources](https://api.rubyonrails.org/v7.0.4/classes/ActionDispatch/Routing/Mapper/Resources.html#method-i-resources)</code>can declare all of the necessary routes for your <code>index</code>, <code>show</code>, <code>new</code>, <code>edit</code>, <code>create</code>, <code>update</code>, and <code>destroy</code>actions.</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>resources <span class="token symbol">:photos</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>creates seven different routes in your application, all mapping to the <code>Photos</code> controller:</p> <p>| --- | --- | --- | --- |</p> <ul><li><p>Path and URL Helper</p> <p>Creating a resourceful route will also expose a number of helpers to the controllers in your application. In the case of <code>resources :photos</code>:</p> <ul><li><code>photos_path</code> returns <code>/photos</code></li> <li><code>new_photo_path</code> returns <code>/photos/new</code></li> <li><code>edit_photo_path(:id)</code> returns <code>/photos/:id/edit</code> (for instance, <code>edit_photo_path(10)</code> returns <code>/photos/10/edit</code>)</li> <li><code>photo_path(:id)</code> returns <code>/photos/:id</code> (for instance, <code>photo_path(10)</code> returns <code>/photos/10</code>)</li></ul> <p>Each of these helpers has a corresponding <code>_url</code> helper (such as <code>photos_url</code>) which returns the same path prefixed with the current host, port, and path prefix.</p></li> <li><p>Defining Multiple Resource at same time</p> <p>If you need to create routes for more than one resource, you can save a bit of typing by defining them all with a single call to <code>resources</code>:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>resources <span class="token symbol">:photos</span><span class="token punctuation">,</span> <span class="token symbol">:books</span><span class="token punctuation">,</span> <span class="token symbol">:videos</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This works exactly the same as:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>resources <span class="token symbol">:photos</span>
resources <span class="token symbol">:books</span>
resources <span class="token symbol">:videos</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <h3 id="route-groups"><a href="#route-groups" class="header-anchor">#</a> Route Groups</h3> <ul><li><p>Controllers</p> <p>You may wish to organize groups of controllers under a namespace. Most commonly, you might group a number of administrative controllers under an <code>Admin::</code>namespace, and place these controllers under the <code>app/controllers/admin</code>directory. You can route to such a group by using a <code>[namespace](https://api.rubyonrails.org/v7.0.4/classes/ActionDispatch/Routing/Mapper/Scoping.html#method-i-namespace)</code>block:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>namespace <span class="token symbol">:admin</span> <span class="token keyword">do</span>
  resources <span class="token symbol">:articles</span><span class="token punctuation">,</span> <span class="token symbol">:comments</span>
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>This will create a number of routes for each of the <code>articles</code>and <code>comments</code>
 controller. For <code>Admin::ArticlesController</code>, Rails will create:</p> <p>| --- | --- | --- | --- |</p> <p>If instead you want to route <code>/articles</code>(without the prefix <code>/admin</code>) to <code>Admin::ArticlesController</code>, you can specify the module with a <code>[scope](https://api.rubyonrails.org/v7.0.4/classes/ActionDispatch/Routing/Mapper/Scoping.html#method-i-scope)</code>
 block:</p></li> <li><p>Nested Resources</p> <p>It's common to have resources that are logically children of other resources. For example, suppose your application includes these models:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code><span class="token keyword">class</span> <span class="token class-name">Magazine</span> <span class="token operator">&lt;</span> ApplicationRecord
  has_many <span class="token symbol">:ads</span>
<span class="token keyword">end</span>

<span class="token keyword">class</span> <span class="token class-name">Ad</span> <span class="token operator">&lt;</span> ApplicationRecord
  belongs_to <span class="token symbol">:magazine</span>
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Nested routes allow you to capture this relationship in your routing. In this case, you could include this route declaration:</p> <div class="language-ruby line-numbers-mode"><pre class="language-ruby"><code>resources <span class="token symbol">:magazines</span> <span class="token keyword">do</span>
  resources <span class="token symbol">:ads</span>
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>In addition to the routes for magazines, this declaration will also route ads to an <code>AdsController</code>. The ad URLs require a magazine:</p> <p>| --- | --- | --- | --- |</p> <p>This will also create routing helpers such as <code>magazine_ads_url</code>and <code>edit_magazine_ad_path</code>
. These helpers take an instance of Magazine as the first parameter (<code>magazine_ads_url(@magazine)</code>).</p></li> <li><p>Routing Concerns</p></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/the_basic/" class="prev router-link-active">
        The Basic
      </a></span> <span class="next"><a href="/the_basic/CSRF Protection.html">
        CSRF Protection
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7adc5413.js" defer></script><script src="/assets/js/2.72a95a92.js" defer></script><script src="/assets/js/41.b554a771.js" defer></script>
  </body>
</html>
